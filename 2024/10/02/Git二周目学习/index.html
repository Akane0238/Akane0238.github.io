<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>GitäºŒå‘¨ç›®å­¦ä¹  | Tech_Islet</title><meta name="author" content="è˜‹æœ«é£"><meta name="copyright" content="è˜‹æœ«é£"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å‰è¨€ ä¸ŠåŠå¹´æ­å»ºå®Œåšå®¢ååˆæ­¥äº†è§£äº†ä¸€ä¸‹ git çš„å¸¸ç”¨æŒ‡ä»¤ï¼Œç¬¬ä¸€æ¬¡äº†è§£ git è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹‹ååˆé›¶é›¶æ•£æ•£åœ°é€šè¿‡ä¸åŒæ…•è¯¾å’Œè§†é¢‘ï¼ˆMissing semesterï¼Œå—å¤§ PAå’ŒæŠ€æœ¯è›‹è€å¸ˆï¼‰é‡æ¸©ï¼Œå¯æ˜¯æˆ‘å‘ç°åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰å¾ˆæ·±å…¥åœ°å»äº†è§£ git çš„ç›¸å…³æ¦‚å¿µå’Œå…·ä½“æ“ä½œä¹‹é—´çš„å…³ç³»ï¼Œå®é™…ä½¿ç”¨ä¸­è¿˜æ¶‰åŠä¸è¿œç«¯ä»“åº“çš„äº¤äº’ï¼Œå› æ­¤åœ¨åšå®éªŒæ—¶æ€»æ˜¯æå¾—ä¸€å›¢ä¹±éº» (screw up)ã€‚å­¦è‰ºä¸ç²¾æœ€ç»ˆåœ¨å®è·µä¸­å¸¦æ¥æ¶æœ">
<meta property="og:type" content="article">
<meta property="og:title" content="GitäºŒå‘¨ç›®å­¦ä¹ ">
<meta property="og:url" content="http://example.com/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Tech_Islet">
<meta property="og:description" content="å‰è¨€ ä¸ŠåŠå¹´æ­å»ºå®Œåšå®¢ååˆæ­¥äº†è§£äº†ä¸€ä¸‹ git çš„å¸¸ç”¨æŒ‡ä»¤ï¼Œç¬¬ä¸€æ¬¡äº†è§£ git è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹‹ååˆé›¶é›¶æ•£æ•£åœ°é€šè¿‡ä¸åŒæ…•è¯¾å’Œè§†é¢‘ï¼ˆMissing semesterï¼Œå—å¤§ PAå’ŒæŠ€æœ¯è›‹è€å¸ˆï¼‰é‡æ¸©ï¼Œå¯æ˜¯æˆ‘å‘ç°åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰å¾ˆæ·±å…¥åœ°å»äº†è§£ git çš„ç›¸å…³æ¦‚å¿µå’Œå…·ä½“æ“ä½œä¹‹é—´çš„å…³ç³»ï¼Œå®é™…ä½¿ç”¨ä¸­è¿˜æ¶‰åŠä¸è¿œç«¯ä»“åº“çš„äº¤äº’ï¼Œå› æ­¤åœ¨åšå®éªŒæ—¶æ€»æ˜¯æå¾—ä¸€å›¢ä¹±éº» (screw up)ã€‚å­¦è‰ºä¸ç²¾æœ€ç»ˆåœ¨å®è·µä¸­å¸¦æ¥æ¶æœ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:published_time" content="2024-10-02T13:17:15.501Z">
<meta property="article:modified_time" content="2024-10-09T12:14:25.443Z">
<meta property="article:author" content="è˜‹æœ«é£">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><link rel="shortcut icon" href="../../../../img/crown.png"><link rel="canonical" href="http://example.com/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="../../../../css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'GitäºŒå‘¨ç›®å­¦ä¹ ',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-09 20:14:25'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="atom.xml" title="Tech_Islet" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="../../../../img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="../../../../archives/"><div class="headline">æ–‡ç« </div><div class="length-num">12</div></a><a href="../../../../tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="../../../../categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://wallpaperaccess.com/full/8045532.png')"><nav id="nav"><span id="blog-info"><a href="../../../../index.html" title="Tech_Islet"><span class="site-name">Tech_Islet</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">GitäºŒå‘¨ç›®å­¦ä¹ </h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-10-02T13:17:15.501Z" title="å‘è¡¨äº 2024-10-02 21:17:15">2024-10-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-10-09T12:14:25.443Z" title="æ›´æ–°äº 2024-10-09 20:14:25">2024-10-09</time></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1>
<p>ä¸ŠåŠå¹´æ­å»ºå®Œåšå®¢ååˆæ­¥äº†è§£äº†ä¸€ä¸‹ git çš„å¸¸ç”¨æŒ‡ä»¤ï¼Œç¬¬ä¸€æ¬¡äº†è§£ git è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œä¹‹ååˆé›¶é›¶æ•£æ•£åœ°é€šè¿‡ä¸åŒæ…•è¯¾å’Œè§†é¢‘ï¼ˆ<em><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1x7411H7wa/?spm_id_from=333.999.0.0">Missing semester</a></em>ï¼Œ<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Bu4y1K7yr/?spm_id_from=333.999.0.0">å—å¤§ PA</a>å’Œ<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1r3411F7kn/?spm_id_from=333.999.0.0">æŠ€æœ¯è›‹è€å¸ˆ</a>ï¼‰é‡æ¸©ï¼Œå¯æ˜¯æˆ‘å‘ç°åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰å¾ˆæ·±å…¥åœ°å»äº†è§£ git çš„ç›¸å…³æ¦‚å¿µå’Œå…·ä½“æ“ä½œä¹‹é—´çš„å…³ç³»ï¼Œå®é™…ä½¿ç”¨ä¸­è¿˜æ¶‰åŠä¸è¿œç«¯ä»“åº“çš„äº¤äº’ï¼Œå› æ­¤åœ¨åšå®éªŒæ—¶æ€»æ˜¯æå¾—ä¸€å›¢ä¹±éº» (screw up)ã€‚å­¦è‰ºä¸ç²¾æœ€ç»ˆåœ¨å®è·µä¸­å¸¦æ¥æ¶æœï¼Œå…¶ä¸­ç§ç§å› ç¼˜å’Œåˆä¸”æŒ‰ä¸‹ä¸è¡¨ã€‚æœ€ç»ˆæˆ‘åœ¨ç—›å®šæ€ç—›åå†³å¿ƒå¼€å¯æ–°å‘¨ç›®çš„ git å­¦ä¹ ï¼Œå¸Œæœ›èƒ½çœŸæ­£åœ°<strong>äº†è§£</strong>gitï¼Œä»¥åé‡åˆ°é—®é¢˜ä¸è‡³äºè¿ CSDN çš„è§£å†³æ–¹æ³•éƒ½çœ‹ä¸æ‡‚ã€‚</p>
<h1 id="å­¦ä¹ å†…å®¹"><a class="markdownIt-Anchor" href="#å­¦ä¹ å†…å®¹"></a> å­¦ä¹ å†…å®¹</h1>
<p>è¿™æ¬¡çš„å­¦ä¹ çš„å‚è€ƒèµ„æ–™ä¸»è¦æ˜¯ <em>Pro Git</em>ï¼Œå¹¶ä¸”æ³¨é‡å­¦ä¹ å…¶ä¸­çš„å…·ä½“æ¦‚å¿µã€‚æœ¬ç¯‡åšæ–‡ä¼šè¡¥å……åœ¨ä¸€å‘¨ç›®åšæ–‡ä¸­æ²¡æœ‰è®°å½•çš„ commandï¼ŒåŒæ—¶é€šè¿‡å…·ä½“å®æ“ä¾‹å­æ¥é˜è¿° git çš„æ¦‚å¿µä¸æ“ä½œã€‚</p>
<blockquote>
<p>â€¦ , because if you understand what Git is and the fundamentals of how it works, then using Git effectively will probably be much easier for you. â€”â€” <em>Pro Git</em></p>
</blockquote>
<h1 id="ä»€ä¹ˆæ˜¯-git"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-git"></a> ä»€ä¹ˆæ˜¯ Git</h1>
<h2 id="ä½¿ç”¨-snapshot-è€Œé-Î´"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-snapshot-è€Œé-Î´"></a> ä½¿ç”¨ snapshot è€Œé Î”</h2>
<p>git å’Œå…¶ä»– VCS (Version Control System)æœ€å¤§çš„åŒºåˆ«å°±åœ¨äºå®ƒä»¬æ˜¯å¦‚ä½•å¯¹å¾… (think of)æ•°æ®çš„ã€‚</p>
<p>ç»å¤§éƒ¨åˆ†çš„ VCS å­˜å‚¨çš„æ–‡ä»¶ä»¥åŠä¸åŒç‰ˆæœ¬é—´å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œçš„ä¿®æ”¹ (<strong><em>delta-based</em></strong> version control)ã€‚Store data as a series of <strong>changesets</strong>ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/changes.png" alt="changes.png"><br>
ç›¸è¾ƒä¹‹ä¸‹ï¼Œgit è®¤ä¸ºæ•°æ®æ˜¯ä¸€ä¸ªå¾®å‹æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ç³»åˆ—å¿«ç…§ (snapshot)ã€‚Store data as a series of <strong>snapshots</strong>.</p>
<blockquote>
<p>Git thinks about its data more like a <strong>stream of snapshots</strong>.<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/snapshot.png" alt="snapshot.png"></p>
</blockquote>
<h2 id="commit-ä¸-snapshot"><a class="markdownIt-Anchor" href="#commit-ä¸-snapshot"></a> commit ä¸ snapshot</h2>
<blockquote>
<p><strong>When you make a commit, Git stores a commit object that contains a pointer to the snapshot of the content you staged.</strong> This object also contains the authorâ€™s name and email address, the message that you typed, and pointers to the commit or commits that directly came before this commit (its parent or parents): zero parents for the initial commit, one parent for a normal commit, and multiple parents for a commit that results from a merge of two or more branches.</p>
</blockquote>
<p>snapshot æ˜¯ä¸€ç§å½“å‰é¡¹ç›®çŠ¶æ€çš„ä¸€ç§æŠ½è±¡ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„ fies ä»¥æ ‘çš„å½¢å¼ (tree object)å­˜å‚¨åœ¨ repo ä¸­ã€‚æˆ‘ä»¬æäº¤åˆ° repo ä¸­çš„ commit åŒ…å«ä¸€äº›å…ƒæ•°æ® ([[#^ce9b5c|meta data]])ä»¥åŠä¸€ä¸ªæŒ‡å‘æ ‘çš„æ ¹èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p>
<blockquote>
<p>Staging the files computes a checksum for each one, stores that version of the file in the Git repository (Git refers to them as <em>blobs</em>), and adds that checksum to the staging area.</p>
<p>When you create the commit by running git commit, Git checksums each subdirectory and stores them as a <strong>tree object</strong> in the Git repository. Git then creates a commit object that has the metadata and a pointer to the root project tree so it can re-create that snapshot when needed.</p>
</blockquote>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/commit_tree.png" alt="commit_tree.png"></p>
<h2 id="git-çš„æ•°æ®å®Œæ•´æ€§"><a class="markdownIt-Anchor" href="#git-çš„æ•°æ®å®Œæ•´æ€§"></a> Git çš„æ•°æ®å®Œæ•´æ€§</h2>
<p>æ‰€æœ‰è®°å½•åœ¨ git ä¸­çš„æ•°æ®éƒ½ä¼šä½¿ç”¨å“ˆå¸Œç®—æ³• (SHA-1)è¿›è¡Œæ£€éªŒå’Œå¤„ç†ï¼Œç„¶åæ‰æ ¹æ®å“ˆå¸Œå€¼å°†æ•°æ®è®°å½•åœ¨ git ä¸­ï¼Œè¿™ä¹Ÿæ„å‘³ç€ä¸å¯èƒ½åœ¨ä¸è¢« git è®°å½•çš„æƒ…å†µä¸‹ä¿®æ”¹å…¶ä¸­çš„æ–‡ä»¶ã€‚â€“&gt; integrity</p>
<blockquote>
<p>You canâ€™t lose information in transit or get file corruption without Git being able to detect it.</p>
</blockquote>
<h2 id="ä¸‰ç§-git-è¿½è¸ªçš„æ–‡ä»¶çŠ¶æ€é‡è¦"><a class="markdownIt-Anchor" href="#ä¸‰ç§-git-è¿½è¸ªçš„æ–‡ä»¶çŠ¶æ€é‡è¦"></a> ä¸‰ç§ git è¿½è¸ªçš„æ–‡ä»¶çŠ¶æ€ï¼ˆé‡è¦ï¼‰</h2>
<p>git è¿½è¸ª (tracking)çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼š<em>modified, staged and committed</em></p>
<ul>
<li><em>modified</em> æ„å‘³ç€å¯¹æ–‡ä»¶åšäº†ä¿®æ”¹ä½†æ˜¯è¿˜æ²¡æœ‰ commit åˆ°æ•°æ®åº“ (local or remote)ä¸­</li>
<li><em>staged</em> æ„å‘³ç€æ ‡è®°å·²ä¿®æ”¹çš„æ–‡ä»¶å¹¶ä¸”å¯ä»¥ commit å…¶å½“å‰ç‰ˆæœ¬</li>
<li><em>committed</em> æŒ‡æ–‡ä»¶å·²ç»å®‰å…¨åœ°å­˜å‚¨åœ¨äº†æœ¬åœ°æ•°æ®åº“ä¸­<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/status.png" alt="status.png"><br>
ä¸‰ç§çŠ¶æ€ä¹Ÿå¯¹åº”ç€ä¸‰ä¸ªæ¦‚å¿µï¼š<em>working tree, staging area and Git repository</em></li>
<li><u>The working tree is a single checkout of one version of the project. </u>These files are pulled out of the <strong>compressed</strong> database in the Git directory and placed on disk for you to use or modify.</li>
<li><u>The staging area is a file, generally contained in your Git directory</u>, that stores information about what will go into your next commit.</li>
<li><u>The Git directory is where Git stores the <b>metadata</b> and object database</u> for your project. This is the most important part of Git, and <strong>it is what is copied when you clone a repository from another computer.</strong> (ps: æ–‡ä¸­æ‰€è¯´çš„&quot;metadata&quot;å¯ä»¥ç†è§£ä¸ºå¯¹æ•°æ®çš„å­˜æ”¾ã€è®¿é—®ã€å¤„ç†ç­‰æ“ä½œçš„è§„åˆ™ï¼Œå¯ä»¥è”æƒ³ HTML çš„&lt;head&gt;ä¸­çš„&lt;meta&gt; tagï¼Œä»¥åŠç±»æ¯”äºç£ç›˜ç®¡ç†ä¸­çš„ MBR) ^ce9b5c</li>
</ul>
<p>åŸºäºè¿™ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€æ¡æ ‡å‡†ï¼ˆå¸¸è§ï¼‰çš„å·¥ä½œæµï¼š</p>
<ol>
<li>åœ¨å½“å‰çš„å·¥ä½œç›®å½•ä¸‹ä¿®æ”¹æ–‡ä»¶</li>
<li>é€šè¿‡<code>add</code>æ¥é€‰æ‹©æ€§åœ°å°†æ–‡ä»¶åŠ å…¥åˆ°æš‚å­˜åŒºä¸­ï¼Œå‡†å¤‡æäº¤</li>
<li>å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶ä¸”æ°¸ä¹…åœ°è®°å½•ä¸‹å®ƒçš„å¿«ç…§ï¼ˆè®°ä½æˆ‘ä»¬æ˜¯é€šè¿‡ hash value æ¥å¯¹ snapshot è¿›è¡Œå”¯ä¸€æ ‡è¯†çš„ï¼‰</li>
</ol>
<h1 id="git-åŸºç¡€"><a class="markdownIt-Anchor" href="#git-åŸºç¡€"></a> Git åŸºç¡€</h1>
<h2 id="tracked-staged-and-untracked"><a class="markdownIt-Anchor" href="#tracked-staged-and-untracked"></a> Tracked, Staged and Untracked</h2>
<p>å‰é¢è¯´â€œgit è¿½è¸ªçš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€â€ï¼Œå…¶ä¸­è¿½è¸ªå°±æ˜¯æŒ‡ trackedï¼Œé¡¾åæ€ä¹‰ git èƒ½å¤ŸçŸ¥é“æ–‡ä»¶æ˜¯å¦åšäº†æ›´æ”¹ (changes)ã€‚<u>å®é™…ä¸Šï¼Œgit ç›®å½•ä¸‹çš„æ–‡ä»¶åªæœ‰ä¸¤ç§çŠ¶æ€ï¼Œtracked or untracked</u>ã€‚å¯¹äº untracked files æ¥è¯´ï¼Œæˆ‘ä»¬é€šè¿‡<code>git add</code>æ¥å°†å®ƒä»¬æ¨åˆ°æš‚å­˜åŒºä¸­ï¼Œæ­¤æ—¶çš„ snapshot åŠ å…¥äº†æ­¤æ¬¡å˜åŠ¨ï¼Œæ‰€ä»¥å®ƒä»¬<strong>æš‚æ—¶</strong>ä¹Ÿæ˜¯ staged çŠ¶æ€ï¼ˆå½“ç„¶ä¹Ÿæ˜¯ trackedï¼‰ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆè¿™äº› tracked æ–‡ä»¶çš„ä¿®æ”¹ä¼šè¢« git è¿½è¸ªï¼Œä½†å¹¶æ²¡æœ‰å°† changes æ›´æ–°åˆ° staging area çš„ snapshot ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬ commit çš„è¯å°†æ˜¯æŠŠæœªæ›´æ–°çš„ snapshot æ°¸ä¹…è®°å½•åœ¨ git log ä¸­ã€‚ä¸ºäº†æ›´æ–° snapshot ä¸­çš„æ–‡ä»¶ç‰ˆæœ¬ï¼Œæˆ‘ä»¬åœ¨ä¿®æ”¹åè¿˜éœ€è¦<code>git add</code>é‡æ–° stagingã€‚</p>
<blockquote>
<p>Untracked basically means that Git sees a file you didnâ€™t have in the previous snapshot (commit), and which hasnâ€™t yet been staged.</p>
<p><code>git add</code> is a multipurpose command â€” you use it to begin <strong>tracking new files</strong>, to <strong>stage files</strong>, and to do other things like marking merge-conflicted files as resolved. It may be helpful to think of it more as â€œ<u>add precisely this content to the next commit</u>â€ rather than â€œadd this file to the projectâ€.</p>
</blockquote>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/git_status.png" alt="git_status.png"></p>
<h2 id="ignoring-files"><a class="markdownIt-Anchor" href="#ignoring-files"></a> Ignoring Files</h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬çš„å·¥ä½œç›®å½•ä¸­ä¼šæœ‰ä¸€äº›æˆ‘ä»¬ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ç¼–è¯‘ä¸­é—´è¿‡ç¨‹äº§ç”Ÿçš„<code>.o</code>æ–‡ä»¶ã€æ—¥å¿—ç­‰ï¼Œè€Œå®ƒä»¬åˆæ€»æ˜¯ä¼šå‡ºç°åœ¨<code>Untracked files</code>ä¸‹ï¼Œä¸ºäº†è®© git å¿½ç•¥å®ƒä»¬ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>.gitignore</code>éšè—æ–‡ä»¶ã€‚<code>.gitignore</code>ä¸­å†™çš„æ˜¯ä½ éœ€è¦å¿½ç•¥çš„æ–‡ä»¶åï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ (glob pattern)çš„å½¢å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> .gitignore</span></span><br><span class="line">*.[oa]</span><br><span class="line">*~</span><br><span class="line">a.txt</span><br><span class="line">build/</span><br><span class="line">!hello.o</span><br></pre></td></tr></table></figure>
<h2 id="git-diff"><a class="markdownIt-Anchor" href="#git-diff"></a> git diff</h2>
<blockquote>
<p>youâ€™ll probably use it most often to answer these two questions: <strong>What have you changed but not yet staged? And what have you staged that you are about to commit?</strong></p>
</blockquote>
<p>ä¸åŒäº<code>git status</code>åªç»™å‡ºå“ªäº›æ–‡ä»¶åšäº†ä¿®æ”¹ï¼Œ<code>git diff</code>èƒ½æ›´è¯¦ç»†åœ°ç»™å‡ºæ–‡ä»¶ä¸­å¢åŠ æˆ–åˆ é™¤çš„æ–‡æœ¬è¡Œï¼Œè¿™äº›æ˜¯åšäº†ä¿®æ”¹ä½†æ˜¯å«æ²¡æœ‰æš‚å­˜çš„æ–‡ä»¶ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œ<code>git diff</code>æ¯”è¾ƒçš„æ˜¯<u>å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæš‚å­˜åŒºä¸­çš„æ–‡ä»¶</u>ï¼Œæ‰€ä»¥è®°å¾—è¦åœ¨ä¿®æ”¹åè¦æ›´æ–° snapshotï¼Œæ‰ä¼šæ›´æ–°æ–‡ä»¶çš„ versionã€‚<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/diff.png" alt="diff.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git diff --staged</span></span><br></pre></td></tr></table></figure>
<p>åŠ ä¸Š option<code>--staged</code>åˆ™ä¼šæ¯”è¾ƒæš‚å­˜åŒºæ–‡ä»¶å’Œä¸Šä¸€æ¬¡ commit çš„åŒºåˆ«ï¼Œæ³¨æ„çœ‹<code>hello.cc</code>æ–‡ä»¶çš„ç‰ˆæœ¬æ˜¯è¿˜æ²¡æœ‰æ›´æ–°çš„ï¼Œè¿˜æ˜¯æš‚å­˜åŒºä¸­çš„æ—§ç‰ˆæœ¬ã€‚<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/diff_staged.png" alt="diff_staged.png"><br>
è¦æ³¨æ„ï¼Œ<code>git diff</code>è¿™ä¸ªå‘½ä»¤æœ¬èº«åªæ¯”è¾ƒä¿®æ”¹åçš„ unstaged æ–‡ä»¶å’Œ staged æ–‡ä»¶é—´çš„åŒºåˆ«ï¼Œè€Œä¸ä¼šæ˜¾ç¤ºå®ƒä»¬ä¸ä¸Šä¸€æ¬¡ commit çš„åŒºåˆ«ï¼</p>
<h2 id="git-rm"><a class="markdownIt-Anchor" href="#git-rm"></a> git rm</h2>
<p><code>git rm</code>å°†æ–‡ä»¶ä» working directory ä¸­åˆ é™¤ï¼ŒåŒæ—¶ stage changesã€‚åœ¨ä¸‹å›¾çš„æƒ…å†µä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ­¤æ—¶ commitï¼Œé‚£ä¹ˆ history ä¸­çš„ snapshot å°†ä¸å†æœ‰<code>hello</code>æ–‡ä»¶ï¼Œä½†æ˜¯<code>b.txt</code>è¿˜æ˜¯å­˜åœ¨çš„ï¼Œå› ä¸º git å¹¶æ²¡æœ‰è®°å½•è¯¥æ–‡ä»¶çš„æ”¹å˜ (deletion)ã€‚</p>
<blockquote>
<p>You can pass files, directories, and file-glob patterns to the <code>git rm</code> command.</p>
</blockquote>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/git_rm.png" alt="git_rm.png"><br>
æ—¢ç„¶<code>git add</code>å¯ä»¥ä½¿æ–‡ä»¶ untracked --&gt; trackedï¼Œå½“æˆ‘ä»¬ä¸å°å¿ƒ add äº†ä¸å¸Œæœ›æäº¤çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†å…¶ä» tracked çŠ¶æ€è½¬å˜ä¸º untracked çŠ¶æ€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">rm</span> --cached filename</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/rm_cached.png" alt="rm_cached.png"></p>
<h2 id="undoing-things"><a class="markdownIt-Anchor" href="#undoing-things"></a> Undoing Things</h2>
<h3 id="1-ä¿®è®¢ä¸Šæ¬¡çš„æäº¤"><a class="markdownIt-Anchor" href="#1-ä¿®è®¢ä¸Šæ¬¡çš„æäº¤"></a> 1. ä¿®è®¢ä¸Šæ¬¡çš„æäº¤</h3>
<p>å¦‚æœæˆ‘ä»¬åœ¨ commit åå‘ç°æœ‰äº›æ›´æ”¹å¿˜è®° stage äº†ï¼Œå¯ä»¥åŠ ä¸Š option<code>--amend</code>æ¥ä¿®æ­£</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit -m <span class="string">&quot;my first commit&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git add CNAME.txt</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git commit --amend</span></span><br></pre></td></tr></table></figure>
<h3 id="2-å°†-staged-è½¬ä¸º-unstaged"><a class="markdownIt-Anchor" href="#2-å°†-staged-è½¬ä¸º-unstaged"></a> 2. å°† staged è½¬ä¸º unstaged</h3>
<p>æˆ‘ä»¬å¯èƒ½é€šè¿‡<code>git add *</code>ä¸å°å¿ƒæš‚å­˜äº†æˆ‘ä»¬ä¸æƒ³åœ¨ä¸‹æ¬¡ commit çš„æ–‡ä»¶ï¼Œä¸ºäº†å°†å…¶ä»æš‚å­˜åŒºä¸­è§£æ•‘å‡ºæ¥ï¼Œéœ€è¦ä¸‹é¢çš„å‘½ä»¤ï¼ˆå…¶å®è¿™åœ¨ header ä¸­æœ‰å†™ï¼‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">showed <span class="keyword">in</span> status bar, better    âˆš</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore --staged filename</span></span><br><span class="line">		or</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">old version: wrote <span class="keyword">in</span> _Pro git_ Ã—</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git reset HEAD filename</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„å®ƒå’Œä¸Šæ–‡æåˆ°çš„è§£é™¤è¿½è¸ªçŠ¶æ€ tracked --&gt; untracked ä¹‹é—´çš„åŒºåˆ«ï¼</p>
<h3 id="3-æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹"><a class="markdownIt-Anchor" href="#3-æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹"></a> 3. æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹</h3>
<p>å¦‚æœè¦å¯¹åšäº†ä¿®æ”¹çš„æ–‡ä»¶è¿›è¡Œå›é€€ (unmodify)ï¼Œå¯ä»¥<code>git restore</code>ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯åœ¨ header ä¸­æœ‰æç¤ºçš„ã€‚<br>
ä¸è¿‡è¿™ä¸ªå‘½ä»¤è¿˜æ˜¯è¦æ…é‡ä½¿ç”¨</p>
<blockquote>
<p>Itâ€™s important to understand that <code>git restore filename</code> is a dangerous command. Any local changes you made to that file are gone â€” <strong>Git just replaced that file with the last staged or committed version</strong>.</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git restore filename</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/discard.png" alt="discard.png"><br>
å¦‚æœæƒ³è¦ä¿å­˜ä¿®æ”¹ï¼ŒåŒæ—¶åˆæƒ³è®©å…¶ä¸æ˜¾ç¤ºåœ¨ status ä¸­ï¼Œåœ¨ <em>Pro Git, go over stashing and branching</em> ä¸€èŠ‚ä¸­æœ‰è®²ï¼Œç”±äºä¸æ˜¯å¾ˆé‡è¦ï¼Œæ•…ä¸åœ¨æ­¤èµ˜è¿°ã€‚</p>
<blockquote>
<p>Remember, anything that is <u>committed in Git</u> can almost always be recovered. Even commits that were on branches that were deleted or commits that were overwritten with an <code>--amend</code>commit can be recovered. <strong>However, anything you lose that was never committed is likely never to be seen again.</strong></p>
</blockquote>
<h3 id="4å›é€€å†å²"><a class="markdownIt-Anchor" href="#4å›é€€å†å²"></a> 4.å›é€€å†å²</h3>
<p>è®¨è®ºäº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº†ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼šå›é€€ (rewind/roll back/revoke)ã€‚åœ¨ git ä¸­å¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹å¼å°†æˆ‘ä»¬çš„ working tree å›é€€åˆ°ä¹‹å‰çš„ snapshot ä¸­ï¼Œåˆ†åˆ«æ˜¯<code>reset</code>å’Œ<code>revert</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">the commmit<span class="string">&#x27;s checksum you want to roll back</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="string">git reset &lt;commit ID&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/git_reset.png" alt="git_reset.png"><br>
<code>reset</code>å®é™…é€šè¿‡ä¸‰æ­¥æ¥å®Œæˆå›é€€ï¼ˆå…·ä½“å¯çœ‹ <em>Sec 7.7 Git Tools - Reset Demystified</em>ï¼‰ï¼Œç»“æœæ˜¯å®ƒå°†å®Œå…¨èˆå¼ƒ (discard)å›é€€ç›®æ ‡ç‚¹åçš„æ‰€æœ‰ commitsï¼ŒåŒæ—¶æ ¹æ® snapshot æ¢å¤å·¥ä½œç›®å½•å’Œ<code>HEAD</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ID is</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git revert &lt;commit ID&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/git_revert.png" alt="git_revert.png"><br>
åŒæ ·æ˜¯å›é€€ï¼Œä½†æ˜¯<code>revert</code>æ˜¯é‡ç½®æŸä¸ªç‰¹å®šæäº¤ä¹‹å‰å¯¹æ–‡ä»¶æ‰€åšçš„æ‰€æœ‰ä¿®æ”¹ï¼Œå¹¶ä¸”ä»¥ä¸€ä¸ªæ–°çš„ commit æäº¤åˆ°å†å²ä¸­ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>revert</code>æ˜¯æ¢å¤æŒ‡å®š commit ä¹‹å‰çš„çŠ¶æ€ï¼Œè€Œ<code>reset</code>æ˜¯æ¢å¤ä¸ºæŒ‡å®š commit çš„çŠ¶æ€ï¼Œç•¥æœ‰ä¸åŒã€‚</p>
<p>ä¸ºäº†å®‰å…¨èµ·è§ï¼Œåœ¨æ’¤é”€æœ‰å…¶ä»–å¼€å‘è€…å·¥ä½œçš„ repo ä¸­çš„ä¿®æ”¹æ—¶ï¼Œè¯·ä½¿ç”¨ Â <code>git revert</code>ã€‚</p>
<h2 id="working-with-remotes"><a class="markdownIt-Anchor" href="#working-with-remotes"></a> Working with Remotes</h2>
<p>é™¤äº†åœ¨æœ¬åœ°çš„ repo ä¸Šå·¥ä½œå¤–ï¼Œæˆ‘ä»¬è¿˜å¯èƒ½éœ€è¦ç”¨åˆ°è¿œç«¯ä»“åº“æ¥å’Œå…¶ä»–äººåä½œï¼Œæˆ–è€…å•çº¯ä½œä¸ºæœ¬åœ°åº“çš„ä¸€ä¸ªå¤‡ä»½ã€‚ä¸€ä¸ªæœ¬åœ°ä»“åº“å¯ä»¥è”ç³»ä¸åŒçš„è¿œç«¯ä»“åº“ï¼Œæ¯”å¦‚å¯ä»¥é€‰æ‹© Github æ‰˜ç®¡ä¸€ä¸ª repoï¼Œ<s>ç”¨ Gitee æ‰˜ç®¡å¦ä¸€ä¸ª</s>ã€‚</p>
<blockquote>
<p>Remote repositories are versions of your project that are hosted on the Internet or network somewhere. You can have several of them, each of which generally is either read-only or read/write for you.</p>
<p>The word â€œ<strong>remote</strong>â€ does not necessarily imply that the repository is somewhere else on the network or Internet, only that it is elsewhere.</p>
</blockquote>
<h3 id="1-å…³äº-git-clone"><a class="markdownIt-Anchor" href="#1-å…³äº-git-clone"></a> 1. å…³äº git clone</h3>
<p>æˆ‘ä»¬ clone çš„ä»“åº“æ˜¯ä¼šè‡ªå·±é»˜è®¤è”ç³»åŸæœ¬çš„è¿œç«¯ä»“åº“çš„ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬åœ¨åˆšå…‹éš†çš„ä»“åº“ä¸‹<code>git remote -v</code>æŸ¥çœ‹è¿œç«¯ä»“åº“ä¿¡æ¯æ—¶ä¼šå‘ç°å·²æœ‰<code>origin</code> (æˆ–å…¶ä»– shortname)ã€‚æˆ‘è§‰å¾—è¿™æ˜¯å› ä¸º commit åˆ°è¿œç«¯ä»“åº“çš„æ•°æ®æ˜¯æœ¬åœ°ä»“åº“çš„â€œå…¨éƒ¨â€ï¼Œæ‰€ä»¥ä¹Ÿä¼šå¸¦ä¸Š clone çš„ä»“åº“çš„ä¿¡æ¯ã€‚</p>
<blockquote>
<p>â€¦ the <code>git clone</code> command <strong>implicitly</strong> adds the origin remote for you.</p>
</blockquote>
<h3 id="2-adding-renaming-and-removing"><a class="markdownIt-Anchor" href="#2-adding-renaming-and-removing"></a> 2. Adding, Renaming and Removing</h3>
<p>æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">add a remote</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git remote add &lt;shortname&gt; &lt;URL&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">change a remote<span class="string">&#x27;s shortnam</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="string">git remote rename &lt;fromName&gt; &lt;toName&gt;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">remove a remote</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="string">git remote remove &lt;shortname&gt;</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³äº renameï¼šItâ€™s worth mentioning that this changes all your remote-tracking branch names, too.<br>
å…³äº removeï¼šOnce you delete the reference to a remote this way, all remote-tracking branches and configuration settings associated with that remote are also deleted.</p>
</blockquote>
<h2 id="tagging"><a class="markdownIt-Anchor" href="#tagging"></a> Tagging</h2>
<p>git èƒ½è®©æˆ‘ä»¬ä¸ºæŸäº›æäº¤æ‰“ä¸Š tagï¼Œä»¥æ­¤è¡¨æ˜è¿™äº›æäº¤å¾ˆé‡è¦ï¼Œä¾‹å¦‚æ ‡è®°æ–°ç‰ˆæœ¬çš„å‘å¸ƒ (v1.0, v2.0)ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">lightweighting tag</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag &lt;tagName&gt; (&lt;checksum&gt;)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">annotated tag</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -a &lt;tagName&gt; -m <span class="string">&quot;message&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">delete tag, but not remove from remote</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git tag -d &lt;tagName&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">variation: remove from remote</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin --delete &lt;tagName&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è¦ä¸ºä¹‹å‰çš„ commit æ‰“ä¸Šæ ‡ç­¾ï¼Œéœ€è¦æŒ‡å‡ºéœ€è¦ tag çš„æäº¤çš„ checksumï¼Œå¦åˆ™å°±é»˜è®¤ä¸ºæœ€è¿‘çš„ä¸€æ¬¡æäº¤æ‰“ tagã€‚<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/tag.png" alt="tag.png"></p>
<blockquote>
<p><u>By default, the git push command doesnâ€™t transfer tags to remote servers</u>. You will have to explicitly push tags to a shared server after you have created them. You can run <code>git push origin &lt;tagname&gt;</code>.</p>
</blockquote>
<h1 id="git-åˆ†æ”¯"><a class="markdownIt-Anchor" href="#git-åˆ†æ”¯"></a> Git åˆ†æ”¯</h1>
<blockquote>
<p>â€¦ , weâ€™ll cover Gitâ€™s <strong>killer feature</strong>: its <em>branching model</em>, and it certainly sets Git apart in the VCS community.</p>
</blockquote>
<p>åœ¨è®¸å¤š VCS ä¸­è¦å®ç°åˆ†æ”¯éœ€è¦å¤åˆ¶ä¸€ä¸ªå®Œæ•´çš„æºä»£ç ç›®å½• (source code directory)ï¼Œåœ¨æ­¤ä¹‹ä¸Šæ‰èƒ½è¿›è¡Œåˆ†æ”¯çš„å¼€å‘ã€‚å¯¹äºå¤§çš„å·¥ç¨‹é¡¹ç›®æ¥è¯´ï¼Œåˆ†æ”¯æ— ç–‘ä¼šäº§ç”Ÿå·¨å¤§çš„å¼€é”€ã€‚å¯¹æ¯”ä¹‹ä¸‹ï¼Œgit çš„ branching model è½»é‡é«˜æ•ˆï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç§°ä¹‹ä¸º â€œkiller featureâ€ã€‚</p>
<blockquote>
<p>The way Git branches is incredibly lightweight, making branching operations nearly instantaneous, and switching back and forth between branches generally just as fast.</p>
</blockquote>
<p>å›é¡¾ä¸€ä¸‹æˆ‘ä»¬å¯¹ commit å’Œ snapshot çš„è®¨è®ºï¼Œå¦‚æœæˆ‘ä»¬æœ‰è®¸å¤š commitsï¼Œé‚£ä¹ˆå®ƒä»¬åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šå°†å½¢æˆä¸€ä¸ªé“¾è¡¨ï¼ˆå¤´æ’å…¥ï¼‰ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/commit_link.png" alt="commit_link.png"><br>
git ä¸Šçš„ä¸€ä¸ªåˆ†æ”¯åªæ˜¯ä¸€ä¸ªè½»é‡çš„æŒ‡é’ˆï¼Œè¿™ä¹Ÿæ„å‘³è¿™å®ƒå¯ä»¥éšä¾¿ç§»åŠ¨æŒ‡å‘ä»»æ„çš„ commitã€‚å½“æˆ‘ä»¬æäº¤ä¸€ä¸ª commit æ—¶ï¼Œbranch æŒ‡é’ˆå°±ä¼šå‘å‰ç§»åŠ¨ï¼ŒæŒ‡å‘æœ€æ–°çš„é‚£ä¸ª commitã€‚ä¸‹å›¾ä¸­<code>HEAD</code>æŒ‡é’ˆæŒ‡ç¤ºç€æˆ‘ä»¬å½“å‰æ‰€å¤„çš„åˆ†æ”¯ä¸º<code>master</code>ã€‚<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/branch_history.png" alt="branch_history.png"></p>
<h2 id="creating-and-switching-branches"><a class="markdownIt-Anchor" href="#creating-and-switching-branches"></a> Creating and Switching branches</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">just create a new branch</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch &lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create a new branch and switch to it</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b &lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">delete a branch</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch -d &lt;branch&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åˆ›å»ºçš„åˆ†æ”¯åŸºäº<code>HEAD</code>æŒ‡é’ˆæŒ‡å‘çš„å½“å‰åˆ†æ”¯ï¼ˆä¹Ÿæ˜¯æŒ‡é’ˆï¼‰æŒ‡å‘çš„ commitï¼ˆçœ‹èµ·æ¥æœ‰ç‚¹ç»•ï¼‰ï¼Œè€Œä¸”åˆ›å»ºå®Œæˆåå¹¶ä¸ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout &lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">From Git version 2.23 onwards you can use `git switch` instead of `git checkout`</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git switch &lt;branch&gt;</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>git checkout</code>ï¼Œ<u>æˆ‘ä»¬çš„<code>HEAD</code>æŒ‡é’ˆä¼šæŒ‡å‘åˆ‡æ¢çš„åˆ†æ”¯</u>ï¼Œå‡è®¾æ˜¯æˆ‘åŸºäº<code>main</code>åˆ†æ”¯çš„æœ€æ–° commit åˆ›å»ºçš„<code>diverge</code>åˆ†æ”¯ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–°åˆ†æ”¯ä¸Šæäº¤ commitï¼Œè€ŒåŸæ¥çš„<code>main</code>ä»ç„¶æŒ‡å‘å¼€å§‹ diverge çš„é‚£ä¸ª commitï¼Œä¸ä¼šæ”¶åˆ°æ–°åˆ†æ”¯çš„å½±å“ã€‚å½“ä½¿ç”¨<code>git log</code>æŸ¥çœ‹ commit å†å²æ—¶ï¼Œæˆ‘ä»¬å‘ç°é»˜è®¤åªä¼šæ˜¾ç¤ºè¿™ä¸ªåˆ†æ”¯çš„æ‰€æœ‰æäº¤ã€‚</p>
<ul>
<li>To show commit history for the desired branch you have to explicitly specify it: <code>git log &lt;branch&gt;</code>.</li>
<li>To show all of the branches, add <code>--all</code> to your git log command.</li>
</ul>
<p>å¦‚æœæ­¤æ—¶æˆ‘ä»¬å†<code>checkout</code>å›åŸæ¥çš„åˆ†æ”¯<code>main</code>ï¼Œ<u>é‚£ä¹ˆå½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šæ¢å¤ (revert)ä¸ºåˆ‡æ¢åˆ†æ”¯æŒ‡å‘çš„ snapshot</u>ã€‚</p>
<blockquote>
<p>It essentially <strong>rewinds</strong> the work youâ€™ve done in your <code>diverge</code> branch so you can go in a different direction.</p>
<p>However, before you do that, note that if your working directory or staging area has uncommitted changes that conflict with the branch youâ€™re checking out, Git wonâ€™t let you switch branches. <u>Itâ€™s best to have a clean working state when you switch branches</u>.</p>
</blockquote>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/diverge.png" alt="diverge.png"></p>
<h2 id="basic-branching-and-merging"><a class="markdownIt-Anchor" href="#basic-branching-and-merging"></a> Basic Branching and Merging</h2>
<p>ä¸Šé¢çš„å›¾æ˜¾ç¤ºæˆ‘åœ¨<code>main</code>åˆ†æ”¯ä¸Šå¯¹<code>c.txt</code>åšäº†ä¿®æ”¹å’Œ commitsï¼ŒåŒæ—¶åœ¨<code>diverge</code>åˆ†æ”¯ä¸Šåˆæœ‰å¯¹<code>hello.cc</code>åšäº†ä¿®æ”¹å’Œå¦ä¸€äº› commitsã€‚æ­¤æ—¶å¦‚æœæˆ‘åœ¨<code>diverge</code>åˆ†æ”¯ä¸Šçš„å·¥ä½œå·²ç»å®Œæˆäº†ï¼Œæƒ³è¦å°†<code>diverge</code>åˆå¹¶åˆ°<code>main</code>ä¸­ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°<code>main</code>åˆ†æ”¯ï¼Œå†é€šè¿‡<code>git merge</code>æ¥å°†ç›®æ ‡åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/merge.png" alt="merge.png"><br>
git ä½¿ç”¨ <strong>three-way merge</strong>çš„æ–¹æ³•æ¥å®ç°ä¸¤ä¸ªåˆ†æ”¯çš„åˆå¹¶ï¼ˆæœ‰ç«¯è”æƒ³ three-way handshakeï¼‰ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/three_way.png" alt="three_way.png"><br>
æ‰€è°“çš„ tree-way å°±æ˜¯ git ç”¨ä¸¤ä¸ªåˆ†æ”¯æŒ‡å‘çš„ snapshot + å¼€å§‹ diverge çš„èŠ‚ç‚¹çš„ snapshotï¼Œä¸€å…±ä¸‰ä¸ª snapshotsï¼Œæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ snapshotï¼Œå¹¶ä¸”åœ¨<code>merge commit</code>æäº¤åˆ° repo ä¸­ã€‚å¯ä»¥æ³¨æ„åˆ°ï¼Œè¿™ä¸ªç‰¹æ®Šçš„ commit å…·æœ‰ä¸¤ä¸ª parent commitsã€‚å¦‚æœæˆ‘ä»¬ä¸éœ€è¦å†åœ¨ merge å®Œçš„åˆ†æ”¯ä¸Šç»§ç»­å¼€å‘ï¼Œå°±å¯ä»¥<code>branch -d</code>æŠŠåˆ†æ”¯åˆ äº†ã€‚å†å²æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼š<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/merge_commit.png" alt="merge_commit.png"> ^7f3018</p>
<h2 id="merge-conflict"><a class="markdownIt-Anchor" href="#merge-conflict"></a> Merge Conflict</h2>
<p>åˆå¹¶å†²çªæ˜¯ä¸€ä»¶æŒºå¤´ç–¼çš„äº‹æƒ…ï¼Œå¦‚æœå·¥ç¨‹åºå¤§èµ·æ¥ï¼Œmerge éœ€è¦è§£å†³çš„å†²çªå°±ä¼šå˜å¾—å¾ˆå¤šã€‚é‚£ä¹ˆä¸Šé¢å®æ“æ—¶ä¸ºä»€ä¹ˆæ²¡æœ‰äº§ç”Ÿ merge confict å‘¢ï¼Ÿå› ä¸ºä¸¤ä¸ªåˆ†æ”¯ä¿®æ”¹çš„æ˜¯ä¸åŒçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬ä»¥ common ancestor çš„ snapshot ä¸ºåŸºå‡†æ¥çœ‹ä¸¤ä¸ªåˆ†æ”¯çš„æ”¹åŠ¨ï¼Œä¸å°±ç›¸å½“äºæˆ‘åœ¨åŒä¸€åˆ†æ”¯ä¸Šå¯¹ä¸åŒæ–‡ä»¶åšäº†ä¿®æ”¹å—ï¼Œæ‰€ä»¥ä¸å­˜åœ¨â€œå†²çªâ€ã€‚</p>
<blockquote>
<p>If you changed the same part of the same file differently in the two branches youâ€™re merging, Git wonâ€™t be able to merge them cleanlyã€‚</p>
</blockquote>
<p>å¦‚æœä¸¤ä¸ªåˆ†æ”¯å¯¹åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä½ç½®åšäº†ä¿®æ”¹ï¼Œgit ä¸çŸ¥é“ä»¥å“ªä¸€åˆ†æ”¯çš„ä¿®æ”¹ä½œä¸ºæœ€ç»ˆç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼š<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/merge_conflict.png" alt="merge_conflict.png"><br>
é’ˆå¯¹å†²çªçš„éƒ¨åˆ†ä¸€ä¸ªä¸ª fixï¼Œå…¨éƒ¨è§£å†³åå†æ¬¡æäº¤ï¼Œå®Œç¾è§£å†³å†²çª ğŸ˜„<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/fix_confict.png" alt="fix_confict.png"></p>
<h2 id="branch-management"><a class="markdownIt-Anchor" href="#branch-management"></a> Branch Management</h2>
<p>æŸ¥çœ‹å½“å‰ä»“åº“çš„åˆ†æ”¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch</span></span><br></pre></td></tr></table></figure>
<p>Option:</p>
<ul>
<li><code>--all</code>: æŸ¥çœ‹æœ¬åœ°å’Œè¿œç«¯çš„æ‰€æœ‰åˆ†æ”¯</li>
<li><code>--merged</code> and <code>--no-merged</code>: å‰è€…åˆ—ä¸¾å½“å‰åˆ†æ”¯æ‰€åˆå¹¶äº†çš„åˆ†æ”¯ï¼Œåè€…åˆ™åˆ—ä¸¾å½“å‰åˆ†æ”¯è¿˜æ²¡æœ‰åˆå¹¶çš„åˆ†æ”¯ï¼Œè¦æŒ‡å®šç‰¹å®šåˆ†æ”¯å¯ä»¥åœ¨æœ€ååŠ ä¸Šåˆ†æ”¯å<code>&lt;branch&gt;</code></li>
</ul>
<p>ä¿®æ”¹åˆ†æ”¯åç§°ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch --move &lt;branch&gt; &lt;newName&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rename your current branch</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch -m &lt;newName&gt;</span></span><br></pre></td></tr></table></figure>
<p>git çš„ä¿®æ”¹åˆ†æ”¯æ“ä½œå’Œ Linux ä¿®æ”¹æ–‡ä»¶åä¸€æ ·éƒ½æ˜¯é€šè¿‡<code>move</code>ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ­¤æ—¶ä¿®æ”¹çš„åªæ˜¯æœ¬åœ°çš„åˆ†æ”¯åï¼Œè¿˜éœ€è¦åŒæ­¥åˆ°è¿œç«¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push --set-upstream origin &lt;newName&gt;</span></span><br></pre></td></tr></table></figure>
<p>åŒæ­¥å®Œæˆåæˆ‘ä»¬å†é€šè¿‡æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼Œä¼šå‘ç°è¿œç«¯å¢åŠ äº†ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œä½†æ—§åˆ†æ”¯è¿˜å­˜åœ¨ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æŠŠå®ƒåˆ äº†ã€‚ps: è¿™é‡Œæˆ‘å¹¶ä¸æ˜¯å¾ˆç†è§£ä¸ºä»€ä¹ˆä¼šå‡ºç°ä¸¤ä¸ªåˆ†æ”¯ï¼Œæ­£å¦‚å‰æ–‡æ‰€è¯´ï¼Œgit çš„åˆ†æ”¯ä»…æ˜¯è½»é‡åŒ–çš„æŒ‡é’ˆï¼ˆæœ€æ–° commit çš„ checksumï¼‰ï¼Œæ—¢ç„¶æœ¬åœ°èƒ½ç›´æ¥ä¿®æ”¹åç§°ï¼Œä¸ºä»€ä¹ˆè¿œç«¯å°±ä¸èƒ½è¿™ä¹ˆåšå‘¢ï¼Ÿ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push origin --delete &lt;oldName&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><u>Changing the name of a branch like master/main/mainline/default will break the integrations, services, helper utilities and build/release scripts that your repository uses. </u>Before you do this, make sure you consult with your collaborators. Also, make sure you do a thorough search through your repo and update any references to the old branch name in your code and scripts.</p>
</blockquote>
<h2 id="remote-branches"><a class="markdownIt-Anchor" href="#remote-branches"></a> Remote Branches</h2>
<p>æˆ‘ä»¬çŸ¥é“åˆ†æ”¯å’Œæ ‡ç­¾éƒ½æ˜¯æŒ‡é’ˆï¼Œæˆ–è€…è¯´æ˜¯å¼•ç”¨ (reference)ï¼Œå…³äºåˆ†æ”¯å’Œæ ‡ç­¾ç­‰å¼•ç”¨ï¼Œæœ¬åœ°å’Œè¿œç«¯éƒ½ä¼šåˆ†åˆ«å­˜å‚¨ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‰æ–‡åœ¨æœ¬åœ°åˆ›å»ºå’Œåˆ é™¤ tag æˆ– branch åéœ€è¦é€šè¿‡<code>push</code>æ¥å’Œè¿œç«¯åŒæ­¥ã€‚å…¶ä¸­æœ¬åœ°åˆ†æ”¯å’Œè¿œç«¯åˆ†æ”¯ä¹‹é—´çš„è”ç³»ç§°ä¸º remote-trackingï¼Œåœ¨æœ¬åœ°é€šè¿‡ä¸€ä¸ª<code>remote-tracking branch</code>æ¥æ ‡è¯†æœ€æ–°ä¸€æ¬¡å’Œè¿œç«¯è¿æ¥æ—¶çš„ branch çŠ¶æ€ï¼ˆ<em>Pro Git</em> ä¸­æŠŠå…¶æ¯”å–»ä¸ºä¹¦ç­¾ bookmarkï¼Œéå¸¸å½¢è±¡ï¼‰ã€‚</p>
<blockquote>
<p><strong>Remote-tracking branches are references to the state of remote branches.</strong> Theyâ€™re local references that you canâ€™t move; Git moves them for you whenever you do any network communication, to make sure they accurately <u>represent the state of the remote repository</u>.</p>
</blockquote>
<p>å½“æˆ‘ä»¬ clone ä¸€ä¸ªè¿œç«¯ä»“åº“æ—¶ï¼Œæˆ‘ä»¬é»˜è®¤ä¼šç”Ÿæˆ<code>main/master</code>åˆ†æ”¯æŒ‡å‘æœ€æ–°çš„ commitï¼ŒåŒæ—¶æˆ‘ä»¬æœ¬åœ°ä¹Ÿä¼šä¿å­˜ä¸€ä¸ªåˆ†æ”¯<code>origin/master</code>æ¥è¡¨ç¤ºè¿œç«¯åˆ†æ”¯çš„çŠ¶æ€ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/clone_remote.png" alt="clone_remote.png"><br>
å¦‚æœæˆ‘ä»¬åœ¨æ‹‰ä¸‹æ¥çš„åˆ†æ”¯ä¸Šæäº¤ä¸€äº› commitsï¼ŒåŒæ—¶å…¶ä»–äººåœ¨è¿œç«¯åº“ä¸­æäº¤å¦å¤–ä¸€äº› commitsï¼Œè™½ç„¶<code>origin/master</code>åˆ†æ”¯ä»æŒ‡å‘ clone æ—¶çš„çŠ¶æ€ï¼Œä½†å®é™…ä¸Šå’Œè¿œç«¯åˆ†æ”¯å·²ç»ä¸åŒäº†ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨<code>fetch</code>æ¥ä½¿æœ¬åœ°ä¸è¿œç«¯åŒæ­¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git fetch &lt;remote&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/fetch_state.png" alt="fetch_state.png"></p>
<blockquote>
<p>This command looks up which server <code>origin</code> is, fetches any data from it that <strong>you donâ€™t yet have</strong>, and updates your local database, moving your <code>origin/master</code> pointer to its new, more up-to-date position.</p>
<p>Itâ€™s important to note that when you do a fetch that brings down new remote-tracking branches, <strong>you donâ€™t automatically have local, editable copies of them.</strong></p>
</blockquote>
<p>è™½ç„¶è¿œç«¯åˆ†æ”¯æ— æ³•ä¿®æ”¹ï¼Œä½†æ˜¯å¯ä»¥<code>merge</code>åˆ°æˆ‘ä»¬éœ€è¦çš„åˆ†æ”¯ä¸­ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">merge into your current branch</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git merge &lt;remote&gt;/&lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create a new branch and base it off your remote-tracking branch</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch -b &lt;newBranch&gt; &lt;remote&gt;/&lt;branch&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="pushing"><a class="markdownIt-Anchor" href="#pushing"></a> Pushing</h3>
<p>git ä¸ä¼šè‡ªåŠ¨åœ°å°†æœ¬åœ°çš„åˆ†æ”¯å’Œè¿œç«¯çš„åˆ†æ”¯è¿›è¡ŒåŒæ­¥ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬éœ€è¦è‡ªå·±é€šè¿‡<code>push</code>æ¥å®ç°ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push &lt;remote&gt; &lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push &lt;remote&gt; &lt;localBranch&gt;:&lt;remoteBranch&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªæ“ä½œå°†æœ¬åœ°åˆ†æ”¯æ¨åˆ°è¿œç«¯å¹¶ä¸”å°†å…¶å‘½åä¸ºå’Œæœ¬åœ°åˆ†æ”¯ä¸€æ ·çš„åå­—ï¼Œè€Œç¬¬äºŒä¸ªåˆ†æ”¯åˆ™å…è®¸æ¨åˆ°è¿œç«¯æ—¶å°†åˆ†æ”¯å‘½åä¸ºåˆ«çš„åå­—ï¼Œå› ä¸ºå³ä½¿ä¸¤ä¸ªåˆ†æ”¯æ˜¯ç›¸äº’è¿½è¸ªçš„çŠ¶æ€ï¼Œä¹Ÿæ˜¯å¯ä»¥å…·æœ‰ä¸åŒåå­—çš„ã€‚</p>
<h3 id="tracking-branches"><a class="markdownIt-Anchor" href="#tracking-branches"></a> Tracking Branches</h3>
<blockquote>
<p>Checking out a local branch from a remote-tracking branch automatically creates what is called a <strong>â€œtracking branchâ€</strong> (and the branch it tracks is called an <strong>â€œupstream branchâ€</strong>).</p>
</blockquote>
<p>å¯¹äº tracking branch æˆ‘ä»¬è¿›è¡Œ<code>git pull</code>æ“ä½œï¼Œç›¸å½“äºæ˜¯<code>fetch</code>+<code>merge</code>çš„ä¸€ç§ç®€å†™ (shorthand)ï¼Œå› ä¸º git çŸ¥é“ä»å“ªä¸ªè¿œç«¯ä»“åº“æ‹‰å–æ•°æ®ï¼Œå¹¶ä¸”å°†åˆ†æ”¯ merge åˆ°å“ªä¸ªæœ¬åœ°åˆ†æ”¯é‡Œï¼</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°åˆ†æ”¯æ¥è¿½è¸ª (track) è¿œç«¯ä»“åº“çš„åˆ†æ”¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create a tracking-branch and push to synchronize</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout -b &lt;newBranch&gt; &lt;remote&gt;/&lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push &lt;remote&gt; &lt;newBranch&gt;</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥è®©ä¸€ä¸ªå·²æœ‰çš„æœ¬åœ°åˆ†æ”¯è¿½è¸ªè¿œç«¯åˆ†æ”¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">option: <span class="string">&#x27;-u&#x27;</span> or <span class="string">&#x27;--set-upstream-to&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git branch -u &lt;remote&gt;/&lt;branch&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„</strong>ï¼šä¸Šé¢ä¸¤ä¸ªæ“ä½œçš„å‰æéƒ½æ˜¯é€šè¿‡<code>fetch</code>å·²ç»å°†è¿œç«¯çš„åˆ†æ”¯è®°å½•åœ¨æœ¬åœ°ï¼Œä½œä¸ºä¸å¯ä¿®æ”¹çš„è¿œç«¯åˆ†æ”¯ï¼ˆå¦‚ä¸Šé¢å›¾ä¾‹ä¸­çš„<code>origin/master</code>ï¼‰ã€‚è¿™ä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„ï¼Œå¦‚æœæˆ‘åªèƒ½è§‚å¯Ÿæœ¬åœ°çš„ä»“åº“ï¼Œé‚£æˆ‘æ€ä¹ˆä¼šçŸ¥é“è¿œç«¯ä»“åº“æœ‰ä¸€ä¸ªæ–°çš„åˆ†æ”¯å‘¢ï¼å½“ç„¶å¦‚æœè¿™ä¸ªè¿œç«¯ä»“åº“çš„åˆ†æ”¯æˆ‘ä»¬å·²ç»æœ‰äº†è®°å½•ï¼Œä¹Ÿæ˜¯ä¸éœ€è¦<code>fetch</code>çš„ã€‚æ€»ä¹‹æˆ‘ä»¬çš„æ“ä½œå¯¹è±¡ä¸€å®šæ˜¯è¦æœ¬åœ°æœ‰è®°å½•çš„ã€‚<br>
<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/tracking.png" alt="tracking.png"></p>
<blockquote>
<p>Itâ€™s important to note that these numbers (ahead, behind, commitâ€¦) are only since the last time you fetched from each server!</p>
</blockquote>
<h3 id="pulling"><a class="markdownIt-Anchor" href="#pulling"></a> Pulling</h3>
<p>å†æ¬¡å›é¡¾ä¸‹ä¸€ä¸‹ï¼Œ<code>fetch</code>æ“ä½œä»…ä»…å°†è¿œç«¯çš„æ•°æ®ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶ä¸ä¼šå¯¹å½“å‰çš„å·¥ä½œç›®å½•è¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨<code>merge</code>ã€‚ä½†å¦‚æœæˆ‘ä»¬çš„åˆ†æ”¯æ˜¯ tracking branchï¼Œé‚£å°±ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦äº†ï¼Œç›´æ¥<code>git pull</code> å°±èƒ½åˆ<code>fetch</code>ã€<code>merge</code>ä¸ºä¸€ã€‚è™½ç„¶æ“ä½œæ–¹ä¾¿ (short hand)ï¼Œä½†å®è·µä¸­è¿˜æ˜¯å¯èƒ½é‡åˆ° merge conflict ç­‰å…¶ä»–é—®é¢˜ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯ä¸€æ­¥æ­¥æ¥è¿›è¡Œã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/pulling.png" alt="pulling.png"></p>
<h2 id="rebasing"><a class="markdownIt-Anchor" href="#rebasing"></a> Rebasing</h2>
<p>é™¤äº†<code>merge</code>ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ“ä½œå¯ä»¥åˆå¹¶åˆ†æ”¯ï¼š<code>rebase</code>ã€‚è€ƒè™‘å’Œ merge ä¸€æ ·çš„åˆ†æ”¯æƒ…å†µï¼š<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/diverge_rebase.png" alt="diverge_rebase.png"><br>
åœ¨<code>merge</code>æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä¼šè§£å†³ conflict å¾—åˆ°ä¸€ä¸ªæ–°çš„ merge commitã€‚è€Œ<code>rebase</code>æ“ä½œåˆ™æ˜¯å°†<code>experiment</code>åˆ†æ”¯ä¸Šçš„æäº¤é‡æ–°ä½œç”¨ (replay)ä¸€æ¬¡åœ¨<code>master</code>åˆ†æ”¯ä¸Šï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">checkout to the branch you need to rebase</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git checkout &lt;branch&gt;</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rebase the current branch to target branch(the one you rebase onto)</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git rebase &lt;tragetBranch&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>With the rebase command, you can take all the changes that were committed on one branch and <strong>replay them on a different branch</strong>.</p>
</blockquote>
<p>å®˜æ–¹æ–‡æ¡£å¯¹<code>rebase</code>æ“ä½œçš„è®²è§£æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p>This operation works by going to the common ancestor of the two branches (the one youâ€™re on and the one youâ€™re rebasing onto), <u>getting the diff introduced by each commit of the branch youâ€™re on</u>, saving those diffs to temporary files, resetting the current branch to the same commit as the branch you are rebasing onto, and <u>finally applying each change in turn.</u></p>
</blockquote>
<p><img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/rebase.png" alt="rebase.png"><br>
é¦–å…ˆå°†æ‰€å¤„åˆ†æ”¯ä¸Šæ‰€æœ‰éå…±æœ‰ commits çš„ä¿®æ”¹ä¿å­˜åœ¨ä¸€ä¸ªæš‚æ—¶çš„æ–‡ä»¶é‡Œï¼Œç„¶åå°†è¯¥åˆ†æ”¯çš„æŒ‡é’ˆæŒ‡åˆ°éœ€è¦ â€œrebase ontoâ€ çš„é‚£ä¸ªåˆ†æ”¯ï¼Œå†å°†åˆšåˆšä¿å­˜çš„ä¿®æ”¹æŒ‰é¡ºåºä½œç”¨åœ¨åˆ†æ”¯ä¸Šã€‚è¿™ä¹ˆè¯»èµ·æ¥ï¼Œå¥½åƒ<code>rebase</code>æ²¡æœ‰<code>merge</code>é‚£ä¹ˆæ¸…æ™°åœ°è®²è§£å¦‚ä½•å¤„ç†ä¸¤ä¸ªåˆ†æ”¯é—´çš„å†²çªçš„ã€‚ç›´è§‰èƒ½æƒ³åˆ°çš„é—®é¢˜æ˜¯ï¼š<strong>å¦‚æœæˆ‘åœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸Šå¯¹åŒä¸€æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆåœ¨&quot;replay&quot;åä¼šå®ç°æ€ä¹ˆæ ·çš„å–èˆï¼Ÿ</strong></p>
<blockquote>
<p>Now, the snapshot pointed to by <code>C4'</code> is exactly the same as the one that was pointed to by <code>C5</code>in the merge example. There is no difference in the end product of the integration, â€¦</p>
</blockquote>
<p><em>Pro Git</em> è¯´<code>rebase</code>çš„ç»“æœæ˜¯å’Œ<code>merge</code>æ“ä½œç›¸åŒçš„ï¼Œå¹¶æ²¡æœ‰è§£ç­”é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬ç›´æ¥åŠ¨æ‰‹æ¥åˆ¶é€  conflict æ¥çœ‹çœ‹<code>rebase</code>ä¼šå‘ç”Ÿä»€ä¹ˆï¼š<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/rebase_conflict.png" alt="rebase_conflict.png"><br>
åŸæ¥æ— è®ºæ˜¯<code>merge</code>è¿˜æ˜¯<code>rebase</code>éƒ½æ˜¯ä¼šå‘ç”Ÿå†²çªçš„ï¼æ­¤æ—¶<code>git status</code>æŸ¥çœ‹ä¸€ä¸‹ï¼š<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/rebase_status.png" alt="rebase_status.png"><br>
åœ¨<code>unmerge paths</code>çš„ header ä¸‹ï¼Œgit æ˜ç¡®åœ°å‘Šè¯‰äº†æˆ‘ä»¬å¯¹åŒä¸€æ–‡ä»¶çš„åŒä¸€åœ°æ–¹è¿›è¡Œäº†ä¿®æ”¹ï¼Œéœ€è¦æ‰‹åŠ¨æ”¹ä¸€ä¸‹æ–‡ä»¶ï¼Œ<code>add</code>åæäº¤ ğŸ˜„ ã€‚æ‰€ä»¥æ–‡ä¸­æ‰€è¯´çš„&quot;the same&quot;çš„æ„æ€æ˜¯è¯´æˆ‘ä»¬é€šè¿‡åŒæ ·çš„ç­–ç•¥æ¶ˆé™¤å†²çªï¼Œæœ€ç»ˆå¾—åˆ°çš„ snapshot å’Œ<code>merge</code>æ“ä½œå¾—åˆ°çš„ snapshot æ˜¯ä¸€æ ·çš„ã€‚<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/eliminate.png" alt="eliminate.png"><br>
å¾ˆé«˜å…´ï¼Œæˆ‘ä»¬è§£å†³äº†<code>rebase</code>çš„å†²çªï¼é‚£ä¹ˆå°†è¿™ä¸ªæƒ…å†µå»¶ç”³åˆ°æœ¬åœ°åˆ†æ”¯å’Œè¿œç«¯åˆ†æ”¯å‘¢ä¼šå‘ç”Ÿï¼Ÿä¸€æ ·çš„é—®é¢˜ï¼Œä¸€æ ·çš„æ“ä½œï¼æˆ‘ä»¬åªéœ€è¦æŠŠä¾‹å­ä¸­çš„<code>test</code>æ¢åšæŸä¸ªè¿œç«¯åˆ†æ”¯ï¼ˆä¾‹å¦‚<code>origin/main</code>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>fetch</code>+<code>merge</code>çš„ comboï¼Œè¿™å°±ç›¸å½“äºæœ¬åœ°åˆ†æ”¯çš„<code>merge</code>äº†ï¼Œæˆ–è€…ç›´æ¥<code>git pull --rebase</code>å°†è¿œç«¯åˆ†æ”¯æ”¾åˆ°å½“å‰åˆ†æ”¯åé¢ï¼Œç›¸å½“äºæœ¬åœ°çš„<code>rebase</code>ã€‚é‡åˆ° conflict é—®é¢˜è¿˜æ˜¯åŒæ ·è¦è§£å†³çš„ï¼<img src="/2024/10/02/Git%E4%BA%8C%E5%91%A8%E7%9B%AE%E5%AD%A6%E4%B9%A0/rebase_remote.png" alt="rebase_remote.png"><br>
<code>rebase</code>å’Œ<code>merge</code>ç›¸æ¯”ï¼Œå®ƒèƒ½ä½¿å¾—æˆ‘ä»¬çš„å†å²çœ‹èµ·æ¥æ›´åŠ çº¿æ€§å¹²å‡€ã€‚ä¸€äº›äººè®¤ä¸º<code>merge</code>æ›´å¥½ï¼Œå› ä¸ºå®ƒèƒ½ä¿å­˜æ•´ä¸ª commit å†å²ï¼Œèƒ½ä»ä¸­çŸ¥é“æ¯ä¸€æ¬¡<code>commit</code>ã€<code>merge</code>çš„è¿‡ç¨‹å’Œç»“æœï¼Œå°†å†å²è§†ä¸º&quot;<strong>record of what actually happened</strong>&quot;ï¼›å¦ä¸€äº›äººåˆ™è®¤ä¸º<code>rebase</code>æ›´åŠ å·ï¼Œå®ƒé˜è¿°çš„æ˜¯æ•´ä¸ªé¡¹ç›®çš„è¿‡ç¨‹æ˜¯å¦‚ä½•ä¸€ç‚¹ç‚¹æ„å»ºçš„ï¼Œå°±åƒæˆ‘ä»¬ä¸ä¼šæŠŠä¸€ä¸ªåˆç¨¿ç›´æ¥æäº¤ä¸€æ ·ï¼Œso why show your messy work? ä»–ä»¬å°†å†å²è§†ä¸º&quot;<strong>story of how your project was made</strong>&quot;ã€‚é‚£ä¹ˆï¼Œä½ åå¥½å“ªä¸€ç§å‘¢ï¼Ÿ</p>
<h1 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h1>
<p>è¿™ç¯‡åšæ–‡åªæ˜¯æ€»ç»“è§£é‡Šäº† Git çš„ä¸€äº›åŸºç¡€æ¦‚å¿µå’Œæ“ä½œï¼Œè€Œæ²¡æœ‰æ€»ç»“ Git å…·ä½“çš„å®ç°ï¼Œå¦‚ protocolã€internals ç­‰ã€‚å½“ç„¶å•¦æˆ‘ä¹Ÿæ²¡çœ‹å°±æ˜¯äº†ï¼Œå¦‚æœæ„Ÿå…´è¶£çš„è¯å¯ä»¥ç›´æ¥åœ¨<a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2">git å®˜ç½‘</a>è¯» <em>Pro Git</em>ï¼Œä¸ªäººæ„Ÿè§‰è®²çš„éå¸¸ä¹‹å¥½ï¼Œè¾¹åŠ¨æ‰‹è¾¹å­¦ä¹ ï¼Œè¯»ä¸‹æ¥çœŸçš„å—ç›ŠåŒªæµ…ã€‚ç”±äºæˆ‘æ˜¯è¯»çš„è‹±æ–‡ç‰ˆè€Œä¸”è¿˜æ•´ç†åšå®¢ç¬”è®°ï¼Œç®—èµ·æ¥èŠ±äº†æœ‰ 20h+ï¼ˆä¸»è¦æ˜¯è‹±è¯­å¤ªèœäº†ï¼‰ï¼Œä¸è¿‡åœ¨è¿™äº›å­¦ä¹ æ—¶é—´é‡Œæˆ‘éƒ½æ„Ÿè§‰éå¸¸å……å®ï¼æ‰€ä»¥ï¼Œæˆ‘èƒ½ç®—å¾—ä¸Š<strong>å¬è¯´è¿‡</strong> Git äº†å—ï¼Ÿ</p>
</article><div class="tag_share"><div class="post_share"><div class="social-share" data-image="../../../../img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="../../../11/17/Operating-System-Concepts-Ch3/" title="Operating System Concepts: Process Concept"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Operating System Concepts: Process Concept</div></div></a></div><div class="next-post pull-right"><a href="../../../09/15/CS144-Lab2/" title="Standford CS144 Lab 2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Standford CS144 Lab 2</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="../../../../img/avatar.jpg" onerror="this.onerror=null;this.src='../../../../img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">è˜‹æœ«é£</div><div class="author-info__description">éšç¼˜æ›´å„ç§æ‚ä¸ƒæ‚å…«çš„ä¸œè¥¿</div></div><div class="card-info-data site-data is-center"><a href="../../../../archives/"><div class="headline">æ–‡ç« </div><div class="length-num">12</div></a><a href="../../../../tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="../../../../categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text"> å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9"><span class="toc-number">2.</span> <span class="toc-text"> å­¦ä¹ å†…å®¹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-git"><span class="toc-number">3.</span> <span class="toc-text"> ä»€ä¹ˆæ˜¯ Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-snapshot-%E8%80%8C%E9%9D%9E-%CE%B4"><span class="toc-number">3.1.</span> <span class="toc-text"> ä½¿ç”¨ snapshot è€Œé Î”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#commit-%E4%B8%8E-snapshot"><span class="toc-number">3.2.</span> <span class="toc-text"> commit ä¸ snapshot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">3.3.</span> <span class="toc-text"> Git çš„æ•°æ®å®Œæ•´æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D-git-%E8%BF%BD%E8%B8%AA%E7%9A%84%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81%E9%87%8D%E8%A6%81"><span class="toc-number">3.4.</span> <span class="toc-text"> ä¸‰ç§ git è¿½è¸ªçš„æ–‡ä»¶çŠ¶æ€ï¼ˆé‡è¦ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git-%E5%9F%BA%E7%A1%80"><span class="toc-number">4.</span> <span class="toc-text"> Git åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#tracked-staged-and-untracked"><span class="toc-number">4.1.</span> <span class="toc-text"> Tracked, Staged and Untracked</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ignoring-files"><span class="toc-number">4.2.</span> <span class="toc-text"> Ignoring Files</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-diff"><span class="toc-number">4.3.</span> <span class="toc-text"> git diff</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-rm"><span class="toc-number">4.4.</span> <span class="toc-text"> git rm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undoing-things"><span class="toc-number">4.5.</span> <span class="toc-text"> Undoing Things</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BF%AE%E8%AE%A2%E4%B8%8A%E6%AC%A1%E7%9A%84%E6%8F%90%E4%BA%A4"><span class="toc-number">4.5.1.</span> <span class="toc-text"> 1. ä¿®è®¢ä¸Šæ¬¡çš„æäº¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B0%86-staged-%E8%BD%AC%E4%B8%BA-unstaged"><span class="toc-number">4.5.2.</span> <span class="toc-text"> 2. å°† staged è½¬ä¸º unstaged</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%92%A4%E9%94%80%E5%AF%B9%E6%96%87%E4%BB%B6%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">4.5.3.</span> <span class="toc-text"> 3. æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%9B%9E%E9%80%80%E5%8E%86%E5%8F%B2"><span class="toc-number">4.5.4.</span> <span class="toc-text"> 4.å›é€€å†å²</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#working-with-remotes"><span class="toc-number">4.6.</span> <span class="toc-text"> Working with Remotes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%B3%E4%BA%8E-git-clone"><span class="toc-number">4.6.1.</span> <span class="toc-text"> 1. å…³äº git clone</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-adding-renaming-and-removing"><span class="toc-number">4.6.2.</span> <span class="toc-text"> 2. Adding, Renaming and Removing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tagging"><span class="toc-number">4.7.</span> <span class="toc-text"> Tagging</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#git-%E5%88%86%E6%94%AF"><span class="toc-number">5.</span> <span class="toc-text"> Git åˆ†æ”¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#creating-and-switching-branches"><span class="toc-number">5.1.</span> <span class="toc-text"> Creating and Switching branches</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#basic-branching-and-merging"><span class="toc-number">5.2.</span> <span class="toc-text"> Basic Branching and Merging</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#merge-conflict"><span class="toc-number">5.3.</span> <span class="toc-text"> Merge Conflict</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#branch-management"><span class="toc-number">5.4.</span> <span class="toc-text"> Branch Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#remote-branches"><span class="toc-number">5.5.</span> <span class="toc-text"> Remote Branches</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pushing"><span class="toc-number">5.5.1.</span> <span class="toc-text"> Pushing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tracking-branches"><span class="toc-number">5.5.2.</span> <span class="toc-text"> Tracking Branches</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pulling"><span class="toc-number">5.5.3.</span> <span class="toc-text"> Pulling</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rebasing"><span class="toc-number">5.6.</span> <span class="toc-text"> Rebasing</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">6.</span> <span class="toc-text"> æ€»ç»“</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="../../../11/17/Operating-System-Concepts-Ch3/" title="Operating System Concepts: Process Concept">Operating System Concepts: Process Concept</a><time datetime="2024-11-17T08:13:46.470Z" title="å‘è¡¨äº 2024-11-17 16:13:46">2024-11-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="" title="GitäºŒå‘¨ç›®å­¦ä¹ ">GitäºŒå‘¨ç›®å­¦ä¹ </a><time datetime="2024-10-02T13:17:15.501Z" title="å‘è¡¨äº 2024-10-02 21:17:15">2024-10-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="../../../09/15/CS144-Lab2/" title="Standford CS144 Lab 2">Standford CS144 Lab 2</a><time datetime="2024-09-15T08:59:30.128Z" title="å‘è¡¨äº 2024-09-15 16:59:30">2024-09-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="../../../08/11/CS144-Lab1/" title="Standford CS144 Lab 1">Standford CS144 Lab 1</a><time datetime="2024-08-11T00:47:37.184Z" title="å‘è¡¨äº 2024-08-11 08:47:37">2024-08-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="../../../08/08/%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%8F%91%E5%B1%95/" title="æ‰‹æœºç”µè¯å’Œå¾®ä¿¡è¯­éŸ³â€”â€”ä»ä¸¤ç§å³æ—¶é€šä¿¡æŠ€æœ¯çš„åŒºåˆ«çœ‹é€šä¿¡ç½‘ç»œçš„å‘å±•">æ‰‹æœºç”µè¯å’Œå¾®ä¿¡è¯­éŸ³â€”â€”ä»ä¸¤ç§å³æ—¶é€šä¿¡æŠ€æœ¯çš„åŒºåˆ«çœ‹é€šä¿¡ç½‘ç»œçš„å‘å±•</a><time datetime="2024-08-08T07:58:41.419Z" title="å‘è¡¨äº 2024-08-08 15:58:41">2024-08-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="../../../../js/utils.js?v=4.13.0"></script><script src="../../../../js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div></div></body></html>